package ocdSim;
import processing.core.*;
import java.util.*;
public class OverworldJewel extends OverworldObject {

	float fill;
	int faces;
	float faceTheta=pSimulator.PI/4;

	public OverworldJewel(PVector pos, PVector dim, float parentTranslationX, float parentTranslationZ, float triggerRadius, PVector quaternion) {
		super(pos, dim, parentTranslationX, parentTranslationZ, triggerRadius, quaternion);
		float rand=pSimulator.random(1);
		fill=(rand<.15? pSimulator.color(255, 0, 0): rand<.3? pSimulator.color(0, 255, 0) : rand<.6?pSimulator.color(0, 0, 255): rand<.9? pSimulator.color(255, 255, 0) : pSimulator.color(225, 0, 255));
		faces=(int)(pSimulator.TWO_PI/faceTheta);
	}


	@Override
	public void update() {
		super.update();
		//rotate clockwise slowly
		quaternion.y+=.02;
	}

	@Override
	public void handleCollisionWithPlayer() {
		// TODO Auto-generated method stub

	}

	@Override
	protected void render() {
		 noStroke();
		    rotateZ(PI/4);

		    for (int i=0; i<faces; i++) {
		      fill(red(fill)/(i+1), green(fill)/(i+1), blue(fill)/(i+1));
		      rotateY(faceTheta);
		      rect(-dim.x/2, -dim.y*2, dim.x, dim.y);
		    }

	}

}
